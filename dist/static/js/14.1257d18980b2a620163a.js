webpackJsonp([14],{"4vnl":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Dd8w"),i=n.n(a),o=n("BO1k"),r=n.n(o),s=n("gNfH"),c=n("W13U"),l=n("NYxO"),u=n("4naa"),p={data:function(){var t=[];return t.push({name:"未公示",data:[],size:u.PAGE_SIZE_ARR[0],total:0,page:1}),{disabledRevoke:!1,disabledSub:!1,active:0,PAGE_SIZE_ARR:u.PAGE_SIZE_ARR,tables:t,project_class:{},project_type:{},project_type2:{},table_th:[{type:"selection",width:60,align:"center"},{title:"第一轮报价",key:"p1DecryptPrice"},{title:"第二轮报价",key:"p2DecryptPrice"},{title:"注册证编号",key:"registerCardNo",align:"center"},{title:"组件名称",key:"subGroupName"},{title:"产品转换比",key:"conversionRatio"},{title:"最小使用单位",key:"minUnit"},{title:"包装单位",key:"packUnit"},{title:"规格",key:"standard"},{title:"型号",key:"model"},{title:"竞价分组",key:"aup2ProjectTypeGroupName"}]}},computed:{table_now:function(){return this.tables[0]},filter:function(){var t=this;return[{data:"registerCardNo",name:"注册证编号",type:"string"},{data:"subGroupName",name:"组件名称",type:"string"},{data:"manufactureName",name:"生产企业",type:"string"},{data:"conversionRatio",name:"产品转换比",type:"string"},{data:"minUnit",name:"最小使用单位",type:"string"},{data:"packUnit",name:"包装单位",type:"string"},{data:"standard",name:"规格",type:"string"},{data:"model",name:"型号",type:"string"},{data:"aup2ProjectTypeId",name:"请选择分类目录",type:"select",options:this.project_class,onChange:function(e){e&&t.typegroupAndAttibuteListByGrouptypeId({groupTypeId:e}).then(function(e){var n={},a=!0,i=!1,o=void 0;try{for(var s,c=r()(e.content.subGroupList);!(a=(s=c.next()).done);a=!0){var l=s.value;n[l.id]=l.name}}catch(t){i=!0,o=t}finally{try{!a&&c.return&&c.return()}finally{if(i)throw o}}console.log(n),t.project_type2=n})}},{data:"managementType",name:"请选择管理类别",type:"select",options:this.project_type},{data:"aup2ProjectTypeGroupId",name:"请选择竞价组",type:"select",options:this.project_type2},{name:"按钮组",type:"btns",cells:[{name:"筛选",type:"filter"},{name:"重置",type:"reset"}]}]}},methods:i()({},Object(l.b)(["historyOfferList","typegroupAndAttibuteListByGrouptypeId","manageType","subGroupId","deleteGroupId","revokeGroupId"]),{gotoPro:function(t){this.$router.push({name:"产品公示",params:{id:t.id}})},gotoAdd:function(){this.clickLinkGoToBack(),this.$router.push("/LCSB/LCSB004/page/?edit=1")},clickLinkGoToBack:function(){window.go_to_back=this.$route.path},tabTable:function(t){this.active=t;var e=this.tables[t];this.$refs.table.getParamData({size:e.size,page:e.page,aup2PublicityStatus:e.aup2PublicityStatus})},initTable:function(t){var e=this.table_now;e.size=t.size,0==t.managementType&&(t.managementType=""),this.historyOfferList(t).then(function(t){e.total=t.content.total,e.data=t.content.records,e.page=t.content.page})},deleteTable:function(){var t=this,e=this.$refs.table.checkout;if(!e.length)return this.$Modal.warning({content:"请选择要删除的对象！"});this.$Modal.confirm({content:"确定删除吗？此操作不可逆",onOk:function(){var n=e.map(function(t){return t.id}).join(",");t.deleteGroupId({ids:n}).then(function(e){t.$refs.table.getData()})}})},subTable:function(){var t=this,e=this.$refs.table.checkout;if(!e.length)return this.$Modal.warning({content:"请选择要提交的对象！"});this.disabledSub=!0;var n={ids:e.map(function(t){return t.id}).join(","),isSubmitZcz:""};this.subGroupId(n).then(function(e){e.content.suc?(t.$Message.success({content:"提交成功！"}),t.$refs.table.getData()):t.$Modal.confirm({title:"重要提示",content:e.content.msg,onOk:function(){t.subAllId(n)}}),t.disabledSub=!1},function(e){t.disabledSub=!1})},subAllId:function(t){var e=this;this.disabledSub=!0,t.isSubmitZcz=1,this.subGroupId(t).then(function(t){e.$Message.success({content:"提交成功！"}),e.disabledSub=!1,e.$refs.table.getData()},function(t){e.disabledSub=!1})},revokeTable:function(){var t=this,e=this.$refs.table.checkout;if(!e.length)return this.$Modal.warning({content:"请选择要撤回的对象！"});this.disabledRevoke=!0;var n=e.map(function(t){return t.id}).join(",");this.revokeGroupId({ids:n}).then(function(e){t.$Message.success({content:"提交成功！"}),t.disabledRevoke=!1,t.$refs.table.getData()},function(e){t.disabledRevoke=!1})}}),created:function(){var t=this;this.$store.dispatch("apply/categories").then(function(e){t.project_class=e.content.auctionGroup}),this.manageType().then(function(e){t.project_type={0:"全部"};var n=!0,a=!1,i=void 0;try{for(var o,s=r()(e.content);!(n=(o=s.next()).done);n=!0){var c=o.value;t.project_type[c.code]=c.text}}catch(t){a=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}})},components:{TopToolBar:s.a,TablePage:c.a}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("top-tool-bar",{staticClass:"title--bg",attrs:{title:"历史报价查询"}},[n("span",{attrs:{slot:"content"},slot:"content"},[n("strong",{staticClass:"help"},[t._v("说明")]),t._v(" "),n("p",[t._v("\n          无\n          ")])])]),t._v(" "),n("div",{staticClass:"page-container"},[n("table-page",{ref:"table",attrs:{filter:t.filter,columns:t.table_th,getDataFn:t.initTable,pagerSizeArr:t.PAGE_SIZE_ARR,pagerSize:t.table_now.size,data:t.table_now.data,total:t.table_now.total,setPage:t.table_now.page,storage:"aup2org"+t.$route.path},on:{"on-row-click":t.gotoPro}})],1)],1)},staticRenderFns:[]};var b=n("VU/8")(p,d,!1,function(t){n("BH01")},null,null);e.default=b.exports},BH01:function(t,e){}});